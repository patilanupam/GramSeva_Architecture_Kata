<mxfile host="app.diagrams.net" modified="2026-01-15T00:00:00.000Z" agent="Claude" version="24.0.0" etag="GramSeva_v1" type="device">
  <diagram name="GramSeva Health Architecture" id="gramseva-architecture">
    <mxGraphModel dx="2400" dy="1400" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2000" pageHeight="2000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="GramSeva Health - Phygital Healthcare Platform Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#1A237E;" vertex="1" parent="1">
          <mxGeometry x="600" y="20" width="800" height="40" as="geometry" />
        </mxCell>

        <!-- ========== LAYER 1: USERS & EDGE DEVICES ========== -->
        <mxCell id="layer1-bg" value="EDGE LAYER - Rural Health Kiosks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#4CAF50;verticalAlign=top;fontSize=16;fontStyle=1;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="40" y="100" width="480" height="580" as="geometry" />
        </mxCell>

        <!-- Rural Patient -->
        <mxCell id="patient" value="Rural Patient" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#FFCDD2;strokeColor=#D32F2F;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="90" y="150" width="40" height="80" as="geometry" />
        </mxCell>

        <!-- Sahayak -->
        <mxCell id="sahayak" value="Sahayak&#xa;(Health Worker)" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#BBDEFB;strokeColor=#1976D2;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="230" y="150" width="40" height="80" as="geometry" />
        </mxCell>

        <!-- IoT Devices -->
        <mxCell id="iot-box" value="IoT Medical Devices" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;strokeWidth=2;verticalAlign=top;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="140" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="iot1" value="BP Monitor" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;" vertex="1" parent="1">
          <mxGeometry x="370" y="170" width="120" height="25" as="geometry" />
        </mxCell>
        <mxCell id="iot2" value="Oximeter" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;" vertex="1" parent="1">
          <mxGeometry x="370" y="200" width="120" height="25" as="geometry" />
        </mxCell>
        <mxCell id="iot3" value="Glucometer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;" vertex="1" parent="1">
          <mxGeometry x="370" y="230" width="120" height="25" as="geometry" />
        </mxCell>

        <!-- Kiosk Application -->
        <mxCell id="kiosk-app" value="Kiosk Application (PWA/Electron)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#1565C0;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="60" y="290" width="440" height="360" as="geometry" />
        </mxCell>

        <!-- Kiosk App Components -->
        <mxCell id="kiosk-registration" value="Patient Registration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;" vertex="1" parent="1">
          <mxGeometry x="80" y="330" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kiosk-vitals" value="Vitals Capture&#xa;(IoT Integration)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;" vertex="1" parent="1">
          <mxGeometry x="230" y="330" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kiosk-symptoms" value="Symptom Capture&#xa;(Voice/Text)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;" vertex="1" parent="1">
          <mxGeometry x="80" y="390" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kiosk-video" value="Video Consultation&#xa;(WebRTC)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;" vertex="1" parent="1">
          <mxGeometry x="230" y="390" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kiosk-prescription" value="Prescription Display&#xa;(Multilingual)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;" vertex="1" parent="1">
          <mxGeometry x="80" y="450" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kiosk-consent" value="Consent Management&#xa;(OTP/Biometric)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;" vertex="1" parent="1">
          <mxGeometry x="230" y="450" width="130" height="40" as="geometry" />
        </mxCell>

        <!-- Local Storage -->
        <mxCell id="local-storage" value="Local Storage (Offline-First)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C5E1A5;strokeColor=#558B2F;strokeWidth=2;verticalAlign=top;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="520" width="280" height="100" as="geometry" />
        </mxCell>
        <mxCell id="indexeddb" value="IndexedDB / SQLite" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#558B2F;" vertex="1" parent="1">
          <mxGeometry x="90" y="555" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sync-queue" value="Sync Queue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#558B2F;" vertex="1" parent="1">
          <mxGeometry x="230" y="555" width="120" height="30" as="geometry" />
        </mxCell>

        <!-- Edge Server -->
        <mxCell id="edge-server" value="Edge Server&#xa;(Raspberry Pi / NUC)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B39DDB;strokeColor=#4527A0;strokeWidth=2;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="520" width="100" height="100" as="geometry" />
        </mxCell>

        <!-- ========== NETWORK LAYER ========== -->
        <mxCell id="network-layer" value="NETWORK LAYER" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;verticalAlign=top;fontSize=16;fontStyle=1;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="560" y="100" width="240" height="580" as="geometry" />
        </mxCell>

        <!-- Connectivity Options -->
        <mxCell id="connectivity" value="Multi-Path Connectivity" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCC80;strokeColor=#E65100;strokeWidth=2;verticalAlign=top;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="150" width="200" height="150" as="geometry" />
        </mxCell>
        <mxCell id="conn-4g" value="4G/5G Mobile" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;" vertex="1" parent="1">
          <mxGeometry x="600" y="185" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="conn-broadband" value="Wired Broadband" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;" vertex="1" parent="1">
          <mxGeometry x="600" y="225" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="conn-satellite" value="Satellite (Backup)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;" vertex="1" parent="1">
          <mxGeometry x="600" y="265" width="160" height="30" as="geometry" />
        </mxCell>

        <!-- VPN & Security -->
        <mxCell id="vpn" value="Site-to-Site VPN" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF9A9A;strokeColor=#C62828;strokeWidth=2;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="330" width="200" height="50" as="geometry" />
        </mxCell>

        <!-- API Gateway -->
        <mxCell id="api-gateway-box" value="API Gateway (Kong / AWS)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9FA8DA;strokeColor=#283593;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="580" y="420" width="200" height="230" as="geometry" />
        </mxCell>
        <mxCell id="apigw-auth" value="Authentication" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C5CAE9;strokeColor=#283593;" vertex="1" parent="1">
          <mxGeometry x="600" y="460" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="apigw-ratelimit" value="Rate Limiting" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C5CAE9;strokeColor=#283593;" vertex="1" parent="1">
          <mxGeometry x="600" y="500" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="apigw-lb" value="Load Balancing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C5CAE9;strokeColor=#283593;" vertex="1" parent="1">
          <mxGeometry x="600" y="540" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="apigw-transform" value="Request Transform" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C5CAE9;strokeColor=#283593;" vertex="1" parent="1">
          <mxGeometry x="600" y="580" width="160" height="30" as="geometry" />
        </mxCell>

        <!-- ========== LAYER 2: MICROSERVICES ========== -->
        <mxCell id="layer2-bg" value="MICROSERVICES LAYER (Kubernetes Cluster)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;verticalAlign=top;fontSize=16;fontStyle=1;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="840" y="100" width="920" height="580" as="geometry" />
        </mxCell>

        <!-- User Management Service -->
        <mxCell id="service-user" value="User Management Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#6A1B9A;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="870" y="150" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="user-auth" value="Authentication&#xa;(JWT, MFA)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="880" y="185" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="user-rbac" value="RBAC &amp; Permissions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="880" y="225" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- Patient Management Service -->
        <mxCell id="service-patient" value="Patient Management Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#80CBC4;strokeColor=#00695C;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1070" y="150" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="patient-ehr" value="EHR / Medical History" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00695C;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1080" y="185" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="patient-abha" value="ABHA Integration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00695C;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1080" y="225" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- Tele-Consultation Service -->
        <mxCell id="service-consult" value="Tele-Consultation Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A5D6A7;strokeColor=#2E7D32;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1270" y="150" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="consult-webrtc" value="WebRTC Signaling" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1280" y="185" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="consult-session" value="Session Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1280" y="225" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- AI & NLP Service -->
        <mxCell id="service-ai" value="AI &amp; NLP Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1470" y="150" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ai-stt" value="Speech-to-Text&#xa;(Multilingual)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1480" y="185" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="ai-triage" value="AI Triage &amp; NER" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1480" y="225" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- Prescription Management Service -->
        <mxCell id="service-prescription" value="Prescription Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#0D47A1;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="870" y="300" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="rx-generate" value="Digital Prescription" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#0D47A1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="880" y="335" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="rx-drug" value="Drug Database" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#0D47A1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="880" y="375" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- Offline Sync Service -->
        <mxCell id="service-sync" value="Offline Sync Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1070" y="300" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="sync-queue-mgmt" value="Queue Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1080" y="335" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="sync-conflict" value="Conflict Resolution" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1080" y="375" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- Consent & Privacy Service -->
        <mxCell id="service-consent" value="Consent &amp; Privacy Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF9A9A;strokeColor=#C62828;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1270" y="300" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="consent-mgmt" value="Consent Framework&#xa;(DPDP Compliance)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1280" y="335" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="consent-audit" value="Access Audit Logs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1280" y="375" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- Notification Service -->
        <mxCell id="service-notification" value="Notification Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#2E7D32;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1470" y="300" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="notif-sms" value="SMS / Email / Push" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1480" y="335" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="notif-whatsapp" value="WhatsApp Bot" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1480" y="375" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- Analytics & Reporting Service -->
        <mxCell id="service-analytics" value="Analytics Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B39DDB;strokeColor=#4527A0;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="870" y="450" width="380" height="100" as="geometry" />
        </mxCell>
        <mxCell id="analytics-ops" value="Operational Dashboards" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D1C4E9;strokeColor=#4527A0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="880" y="485" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="analytics-health" value="Health Analytics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D1C4E9;strokeColor=#4527A0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1060" y="485" width="180" height="30" as="geometry" />
        </mxCell>

        <!-- Message Queue -->
        <mxCell id="kafka" value="Apache Kafka&#xa;(Event Streaming)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;strokeWidth=2;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1270" y="480" width="180" height="70" as="geometry" />
        </mxCell>

        <!-- Service Mesh -->
        <mxCell id="service-mesh" value="Istio Service Mesh" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9575CD;strokeColor=#4527A0;strokeWidth=2;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1470" y="480" width="180" height="70" as="geometry" />
        </mxCell>

        <!-- ========== LAYER 3: DATA LAYER ========== -->
        <mxCell id="layer3-bg" value="DATA LAYER" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00695C;verticalAlign=top;fontSize=16;fontStyle=1;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="40" y="740" width="1720" height="280" as="geometry" />
        </mxCell>

        <!-- PostgreSQL -->
        <mxCell id="postgresql" value="PostgreSQL" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#80CBC4;strokeColor=#00695C;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="80" y="800" width="240" height="180" as="geometry" />
        </mxCell>
        <mxCell id="pg-users" value="Users, Patients, Doctors" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00695C;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="95" y="840" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pg-consult" value="Consultations" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00695C;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="95" y="880" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pg-prescriptions" value="Prescriptions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2DFDB;strokeColor=#00695C;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="95" y="920" width="210" height="30" as="geometry" />
        </mxCell>

        <!-- MongoDB -->
        <mxCell id="mongodb" value="MongoDB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A5D6A7;strokeColor=#2E7D32;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="360" y="800" width="240" height="180" as="geometry" />
        </mxCell>
        <mxCell id="mongo-docs" value="Patient Documents" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="375" y="840" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mongo-transcripts" value="Consultation Transcripts" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="375" y="880" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mongo-training" value="AI Training Data" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="375" y="920" width="210" height="30" as="geometry" />
        </mxCell>

        <!-- Redis -->
        <mxCell id="redis" value="Redis Cache" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF5350;strokeColor=#B71C1C;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=14;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="640" y="800" width="240" height="180" as="geometry" />
        </mxCell>
        <mxCell id="redis-session" value="Session Tokens" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#B71C1C;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="655" y="840" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="redis-cache" value="API Response Cache" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#B71C1C;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="655" y="880" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="redis-realtime" value="Real-time State" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#B71C1C;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="655" y="920" width="210" height="30" as="geometry" />
        </mxCell>

        <!-- S3 / Object Storage -->
        <mxCell id="s3" value="S3 / MinIO" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#0D47A1;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="920" y="800" width="240" height="180" as="geometry" />
        </mxCell>
        <mxCell id="s3-images" value="Medical Images" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#0D47A1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="935" y="840" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s3-videos" value="Consultation Recordings" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#0D47A1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="935" y="880" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s3-prescriptions" value="Prescription PDFs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#0D47A1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="935" y="920" width="210" height="30" as="geometry" />
        </mxCell>

        <!-- Elasticsearch -->
        <mxCell id="elasticsearch" value="Elasticsearch" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1200" y="800" width="240" height="180" as="geometry" />
        </mxCell>
        <mxCell id="es-search" value="Patient Search Index" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1215" y="840" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="es-audit" value="Audit Logs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1215" y="880" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="es-analytics" value="Analytics Data" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1215" y="920" width="210" height="30" as="geometry" />
        </mxCell>

        <!-- TimescaleDB -->
        <mxCell id="timescaledb" value="TimescaleDB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#6A1B9A;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1480" y="800" width="240" height="180" as="geometry" />
        </mxCell>
        <mxCell id="tsdb-vitals" value="Vitals Time-Series" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1495" y="840" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tsdb-metrics" value="System Metrics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1495" y="880" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tsdb-events" value="Event Logs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1495" y="920" width="210" height="30" as="geometry" />
        </mxCell>

        <!-- ========== EXTERNAL INTEGRATIONS ========== -->
        <mxCell id="external-bg" value="EXTERNAL INTEGRATIONS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;verticalAlign=top;fontSize=16;fontStyle=1;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="40" y="1080" width="1720" height="220" as="geometry" />
        </mxCell>

        <!-- Government Systems -->
        <mxCell id="govt-systems" value="Government Systems" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57C00;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="80" y="1140" width="350" height="130" as="geometry" />
        </mxCell>
        <mxCell id="govt-abha" value="ABHA (Ayushman Bharat)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="1175" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="govt-cowin" value="Co-WIN (Vaccination)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="260" y="1175" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="govt-esanjeevani" value="e-Sanjeevani Platform" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="1215" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="govt-abdm" value="ABDM Health Stack" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="260" y="1215" width="150" height="30" as="geometry" />
        </mxCell>

        <!-- Pharmacy Network -->
        <mxCell id="pharmacy-network" value="Pharmacy Network" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A5D6A7;strokeColor=#2E7D32;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="470" y="1140" width="310" height="130" as="geometry" />
        </mxCell>
        <mxCell id="pharmacy-local" value="Local Pharmacy APIs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="490" y="1175" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pharmacy-inventory" value="Inventory Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="635" y="1175" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pharmacy-delivery" value="Delivery Tracking" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="490" y="1215" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pharmacy-payment" value="Payment Integration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="635" y="1215" width="135" height="30" as="geometry" />
        </mxCell>

        <!-- Payment Gateways -->
        <mxCell id="payment-gateways" value="Payment Gateways" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#0D47A1;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="820" y="1140" width="300" height="130" as="geometry" />
        </mxCell>
        <mxCell id="payment-razorpay" value="Razorpay" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#0D47A1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="840" y="1175" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="payment-upi" value="UPI Integration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#0D47A1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="980" y="1175" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="payment-insurance" value="Insurance Claims" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#0D47A1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="840" y="1215" width="130" height="30" as="geometry" />
        </mxCell>

        <!-- AI & Cloud Services -->
        <mxCell id="cloud-ai" value="AI &amp; Cloud Services" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#6A1B9A;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1160" y="1140" width="310" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cloud-google-stt" value="Google Speech-to-Text" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1180" y="1175" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cloud-translate" value="Translation API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1325" y="1175" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cloud-openai" value="GPT-4 (Azure OpenAI)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1180" y="1215" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cloud-twilio" value="Twilio (SMS/WhatsApp)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1325" y="1215" width="135" height="30" as="geometry" />
        </mxCell>

        <!-- WebRTC Media Server -->
        <mxCell id="webrtc-server" value="WebRTC Media Server" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFAB91;strokeColor=#D84315;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1510" y="1140" width="210" height="130" as="geometry" />
        </mxCell>
        <mxCell id="webrtc-janus" value="Janus Gateway" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCCBC;strokeColor=#D84315;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1525" y="1175" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="webrtc-stun" value="STUN/TURN Servers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCCBC;strokeColor=#D84315;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1525" y="1215" width="180" height="30" as="geometry" />
        </mxCell>

        <!-- ========== INFRASTRUCTURE LAYER ========== -->
        <mxCell id="infra-bg" value="INFRASTRUCTURE &amp; MONITORING" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0E0E0;strokeColor=#424242;verticalAlign=top;fontSize=16;fontStyle=1;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="40" y="1360" width="1720" height="200" as="geometry" />
        </mxCell>

        <!-- Kubernetes -->
        <mxCell id="kubernetes" value="Kubernetes (EKS/AKS/GKE)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B0BEC5;strokeColor=#37474F;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="80" y="1415" width="250" height="110" as="geometry" />
        </mxCell>
        <mxCell id="k8s-pods" value="Pod Orchestration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CFD8DC;strokeColor=#37474F;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="1450" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="k8s-autoscale" value="Auto-Scaling (HPA)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CFD8DC;strokeColor=#37474F;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="1485" width="210" height="30" as="geometry" />
        </mxCell>

        <!-- CI/CD -->
        <mxCell id="cicd" value="CI/CD Pipeline" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#2E7D32;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="370" y="1415" width="250" height="110" as="geometry" />
        </mxCell>
        <mxCell id="cicd-jenkins" value="Jenkins / GitLab CI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="390" y="1450" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cicd-argocd" value="ArgoCD (GitOps)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="390" y="1485" width="210" height="30" as="geometry" />
        </mxCell>

        <!-- Monitoring -->
        <mxCell id="monitoring" value="Monitoring &amp; Observability" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="660" y="1415" width="430" height="110" as="geometry" />
        </mxCell>
        <mxCell id="mon-elk" value="ELK Stack (Logs)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="680" y="1450" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mon-prometheus" value="Prometheus + Grafana" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="820" y="1450" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mon-jaeger" value="Jaeger (Tracing)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="960" y="1450" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mon-sentry" value="Sentry (Error Tracking)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="680" y="1485" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mon-newrelic" value="New Relic (APM)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="820" y="1485" width="130" height="30" as="geometry" />
        </mxCell>

        <!-- Security -->
        <mxCell id="security" value="Security Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF5350;strokeColor=#C62828;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1130" y="1415" width="300" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sec-waf" value="WAF (Web Application Firewall)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1150" y="1450" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sec-vault" value="HashiCorp Vault" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1290" y="1450" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sec-ssl" value="TLS 1.3 Encryption" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1150" y="1485" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sec-ddos" value="DDoS Protection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1290" y="1485" width="130" height="30" as="geometry" />
        </mxCell>

        <!-- Backup & DR -->
        <mxCell id="backup-dr" value="Backup &amp; DR" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9575CD;strokeColor=#4527A0;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1470" y="1415" width="250" height="110" as="geometry" />
        </mxCell>
        <mxCell id="backup-daily" value="Daily DB Backups" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D1C4E9;strokeColor=#4527A0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1490" y="1450" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="backup-multiregion" value="Multi-Region Replication" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D1C4E9;strokeColor=#4527A0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1490" y="1485" width="210" height="30" as="geometry" />
        </mxCell>

        <!-- ========== DOCTOR INTERFACE ========== -->
        <mxCell id="doctor-interface-bg" value="DOCTOR INTERFACE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;verticalAlign=top;fontSize=16;fontStyle=1;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1800" y="100" width="380" height="400" as="geometry" />
        </mxCell>

        <!-- Doctor Actor -->
        <mxCell id="doctor" value="City-based Specialist Doctor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#CE93D8;strokeColor=#6A1B9A;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1970" y="150" width="40" height="80" as="geometry" />
        </mxCell>

        <!-- Doctor Dashboard -->
        <mxCell id="doctor-dashboard" value="Doctor Dashboard (Web App)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CE93D8;strokeColor=#6A1B9A;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1830" y="270" width="320" height="200" as="geometry" />
        </mxCell>
        <mxCell id="doctor-queue" value="Consultation Queue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1850" y="305" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="doctor-patient-info" value="Patient Info &amp; Vitals" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1850" y="345" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="doctor-video" value="Video Consultation Interface" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1850" y="385" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="doctor-prescription" value="Digital Prescription Generator" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1850" y="425" width="280" height="30" as="geometry" />
        </mxCell>

        <!-- Admin Portal -->
        <mxCell id="admin-portal" value="Admin Portal" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFAB91;strokeColor=#D84315;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1830" y="540" width="320" height="140" as="geometry" />
        </mxCell>
        <mxCell id="admin-kiosk" value="Kiosk Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCCBC;strokeColor=#D84315;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1850" y="575" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="admin-analytics" value="Analytics Dashboards" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCCBC;strokeColor=#D84315;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1850" y="615" width="280" height="30" as="geometry" />
        </mxCell>

        <!-- ========== CONNECTIONS ========== -->
        <!-- Patient to Sahayak -->
        <mxCell id="conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" edge="1" parent="1" source="patient" target="kiosk-app">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- IoT to Kiosk -->
        <mxCell id="conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F57C00;dashed=1;" edge="1" parent="1" source="iot-box" target="kiosk-vitals">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Kiosk to Edge Server -->
        <mxCell id="conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#558B2F;" edge="1" parent="1" source="local-storage" target="edge-server">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Edge to Network -->
        <mxCell id="conn4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#E65100;" edge="1" parent="1" source="edge-server" target="connectivity">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Network to API Gateway -->
        <mxCell id="conn5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#283593;" edge="1" parent="1" source="vpn" target="api-gateway-box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- API Gateway to Services (representative) -->
        <mxCell id="conn6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6A1B9A;" edge="1" parent="1" source="api-gateway-box" target="service-user">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6A1B9A;" edge="1" parent="1" source="api-gateway-box" target="service-patient">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6A1B9A;" edge="1" parent="1" source="api-gateway-box" target="service-consult">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Services to Data Layer (representative) -->
        <mxCell id="conn9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00695C;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="service-user" target="postgresql">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="960" y="580" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="conn10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00695C;" edge="1" parent="1" source="service-patient" target="mongodb">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1160" y="580" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="conn11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#B71C1C;" edge="1" parent="1" source="service-consult" target="redis">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1360" y="580" as="sourcePoint" />
          </mxGeometry>
        </mxCell>

        <!-- Doctor Dashboard to API Gateway -->
        <mxCell id="conn12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6A1B9A;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="doctor-dashboard" target="api-gateway-box">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1990" y="535" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- External Integrations -->
        <mxCell id="conn13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F57C00;dashed=1;" edge="1" parent="1" source="service-patient" target="govt-abha">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1160" y="580" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1160" y="700" />
              <mxPoint x="175" y="700" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#2E7D32;dashed=1;" edge="1" parent="1" source="service-prescription" target="pharmacy-local">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="960" y="580" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="960" y="700" />
              <mxPoint x="558" y="700" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend-bg" value="LEGEND" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#424242;verticalAlign=top;fontSize=14;fontStyle=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1800" y="740" width="380" height="280" as="geometry" />
        </mxCell>
        <mxCell id="legend1" value="Offline-First / Edge Computing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C5E1A5;strokeColor=#558B2F;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1820" y="780" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend2" value="Network &amp; Connectivity" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1820" y="820" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend3" value="Microservices / Backend" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1820" y="860" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend4" value="Data Storage Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00695C;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1820" y="900" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend5" value="External Integrations" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1820" y="940" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend6" value="Infrastructure &amp; Security" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0E0E0;strokeColor=#424242;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1820" y="980" width="340" height="30" as="geometry" />
        </mxCell>

        <!-- Key Features Box -->
        <mxCell id="features-bg" value="KEY ARCHITECTURAL FEATURES" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;verticalAlign=top;fontSize=14;fontStyle=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1800" y="1080" width="380" height="220" as="geometry" />
        </mxCell>
        <mxCell id="feature1" value=" Offline-First with Store-and-Forward" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1820" y="1120" width="340" height="25" as="geometry" />
        </mxCell>
        <mxCell id="feature2" value=" Low-Bandwidth Optimized Video (WebRTC)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1820" y="1145" width="340" height="25" as="geometry" />
        </mxCell>
        <mxCell id="feature3" value=" AI-Powered Multilingual Triage &amp; Translation" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1820" y="1170" width="340" height="25" as="geometry" />
        </mxCell>
        <mxCell id="feature4" value=" DPDP Act Compliant Consent Management" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1820" y="1195" width="340" height="25" as="geometry" />
        </mxCell>
        <mxCell id="feature5" value=" Real-time IoT Vitals Integration" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1820" y="1220" width="340" height="25" as="geometry" />
        </mxCell>
        <mxCell id="feature6" value=" Microservices on Kubernetes for Scalability" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1820" y="1245" width="340" height="25" as="geometry" />
        </mxCell>
        <mxCell id="feature7" value=" Multi-Region Cloud Deployment with DR" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1820" y="1270" width="340" height="25" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
